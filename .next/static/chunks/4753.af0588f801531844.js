(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4753],{34753:function(e,t,r){"use strict";r.r(t);var s=r(47568),n=r(828),o=r(70655),i=r(85893),a=r(834),l=r(51945),c=r(97183),d=r(50261),u=r(71230),h=r(15746),f=r(4393),m=r(71577),_=r(99138),v=r(75008),g=r(25675),p=r.n(g),x=r(11163),b=r(67294),j=r(21852),y=r(17173),C=r(89235),Z=r(36534),w=r.n(Z),T=l.Z.Title,G=c.Z.Content;t.default=function(e){var t=e.titleForm,r=(0,n.Z)(d.Z.useForm(),1)[0],l=(0,x.useRouter)(),c=(0,b.useState)(!1),g=c[0],Z=c[1],N=(0,b.useState)(!1),P=N[0],S=N[1],k=(0,b.useState)(!1),F=k[0],I=k[1],E=(0,b.useContext)(j.Vo).dataUser,q=C.lv,z=(0,b.useState)(q.create.defaultErrorMessage),L=z[0],R=z[1],B=new y.m(l),V=function(){var e=(0,s.Z)((function(e){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return I(!0),t={id_tenant:void 0,gl_code:e.gl_code,description:e.description},[4,B.createGlCode(t).then((function(){S(!0)})).catch((function(e){var t,r;400===e.request.status&&(R(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message),Z(!0));500===e.request.status&&(R("There's been an error. Please try again later."),Z(!0))})).finally((function(){I(!1)}))];case 1:return r.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),A={width:"100%",textAlign:"center",alignContent:"center",boxShadow:"none",padding:"10px"};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G,{children:(0,i.jsxs)("div",{className:"".concat(w().form_container),children:[(0,i.jsx)(u.Z,{children:(0,i.jsx)(h.Z,{children:(0,i.jsxs)("div",{style:{cursor:"pointer",color:"#888E95",width:"fit-content",fontSize:"16px"},onClick:function(){l.push("/home/gl-codes",void 0,{shallow:!0})},children:[(0,i.jsx)(a.Z,{}),"\xa0 GL codes"]})})}),(0,i.jsx)("div",{className:w().form_subtitle,children:E?E.logged_buyer_client_company_name:""}),(0,i.jsx)(T,{style:{marginBottom:"1.2rem",marginTop:"0rem",fontSize:32},level:2,children:t}),P?(0,i.jsxs)(f.Z,{style:{paddingTop:"0rem"},className:w().form_create,children:[(0,i.jsx)(f.Z.Grid,{hoverable:!1,style:A,children:(0,i.jsx)("div",{style:{marginTop:"55px"},className:"".concat(w().alertSuccess),children:"sucess"})}),(0,i.jsx)(f.Z.Grid,{hoverable:!1,style:A,children:(0,i.jsxs)("span",{className:w().text,children:["Your GL code has been",(0,i.jsx)("br",{})," successfully submitted."]})}),(0,i.jsxs)(f.Z.Grid,{hoverable:!1,style:A,children:[(0,i.jsx)(m.ZP,{style:{fontSize:16},type:"default",size:"large",htmlType:"submit",onClick:function(){l.push("/home/gl-codes",void 0,{shallow:!0})},children:q.create.buttonBack}),(0,i.jsx)("div",{style:{height:"50px"}})]})]}):(0,i.jsx)(f.Z,{style:{paddingTop:"0rem"},className:w().form_create,children:(0,i.jsxs)("div",{children:[g&&(0,i.jsx)(_.Z,{style:{marginBottom:"1rem"},message:L,className:"alert_red",type:"error",showIcon:!0,closable:!0,afterClose:function(){return Z(!1)},icon:(0,i.jsx)(p(),{src:"/assets/icons/alert_error.svg",alt:"logo_conexis",width:24,height:24})}),(0,i.jsxs)(d.Z,{form:r,name:"register",onFinish:V,scrollToFirstError:!0,children:[(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{lg:24,sm:24,xs:24,style:{paddingBottom:"10px"},children:(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Z.Item,{className:"".concat(w().labelRequired),name:"gl_code",validateTrigger:"onSubmit",label:"GL code",rules:[{required:!0,validator:function(){var e=(0,s.Z)((function(e,t){return(0,o.__generator)(this,(function(e){return r.getFieldValue("gl_code")||r.getFieldValue("description")?t?[2,Promise.resolve()]:(R("The GL code field is mandatory. Please make sure to fill it out before submitting the form."),Z(!0),[2,Promise.reject()]):(R("The fields are mandatory. Please make sure to fill it out before submitting the form."),Z(!0),[2,Promise.reject()])}))}));return function(t,r){return e.apply(this,arguments)}}()}],children:(0,i.jsx)(v.Z,{size:"large",type:"text",placeholder:"Enter GL code here"})}),(0,i.jsxs)("div",{style:{padding:0,lineHeight:"16px"},children:[(0,i.jsx)("div",{className:"".concat(w().infoIcon),children:"."}),(0,i.jsx)("div",{className:"".concat(w().infoText),children:"You won\u2019t be able to edit this field later on."})]})]})}),(0,i.jsx)(h.Z,{lg:24,sm:24,xs:24,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Z.Item,{className:"".concat(w().labelRequired),name:"description",validateTrigger:"onSubmit",label:"Description",rules:[{required:!0,validator:function(){var e=(0,s.Z)((function(e,t){return(0,o.__generator)(this,(function(e){return r.getFieldValue("gl_code")||r.getFieldValue("description")?t?[2,Promise.resolve()]:(R("The description field is mandatory. Please make sure to fill it out before submitting the form."),Z(!0),[2,Promise.reject()]):(R("The fields are mandatory. Please make sure to fill it out before submitting the form."),Z(!0),[2,Promise.reject()])}))}));return function(t,r){return e.apply(this,arguments)}}()}],children:(0,i.jsx)(v.Z,{size:"large",type:"text",placeholder:"Enter description here"})}),(0,i.jsxs)("div",{style:{padding:0,lineHeight:"16px"},children:[(0,i.jsx)("div",{className:"".concat(w().infoIcon),children:"."}),(0,i.jsx)("div",{className:"".concat(w().infoText),children:"You won\u2019t be able to edit this field later on."})]})]})})]}),(0,i.jsx)("div",{style:{marginTop:"24px"},children:(0,i.jsx)(m.ZP,{type:"primary",size:"large",htmlType:"submit",loading:F,children:"Submit"})})]})]})})]})})})}},17173:function(e,t,r){"use strict";r.d(t,{m:function(){return u}});var s=r(47568),n=r(51438),o=r(70655),i=r(51573),a=r(97237),l=r(17632),c=function(e,t){return"".concat(e).concat(t)},d="https://d5ja6jkvsot2v.cloudfront.net",u=function e(t){(0,n.Z)(this,e);var r=this;this.getGLCodes=(0,s.Z)((function(){var e,t,s;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.Z)((0,i.zn)(c(d,"/glCodes/findAll")))];case 1:return[2,n.sent().data];case 2:throw e=n.sent(),404===(null===(t=e.response)||void 0===t?void 0:t.status)||400===(null===(s=e.response)||void 0===s?void 0:s.status)||l.$.serverIsDown(r.router),e;case 3:return[2]}}))}));var u=this;this.toggleGLCode=function(){var e=(0,s.Z)((function(e){var t,r,s;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.Z)((0,i.FQ)([c(d,"/glCodes/".concat(e,"/isActive/toggle"))],{}))];case 1:return[2,n.sent().data];case 2:if(t=n.sent(),400===(null===(r=t.response)||void 0===r?void 0:r.status))return[2,{statusCode:t.response.data.statusCode,message:t.response.data.message}];throw 404===(null===(s=t.response)||void 0===s?void 0:s.status)||l.$.serverIsDown(u.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var h=this;this.createGlCode=function(){var e=(0,s.Z)((function(e){var t,r,s;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.Z)((0,i.DH)([c(d,"/glCodes/create")],e))];case 1:return[2,n.sent().data];case 2:throw t=n.sent(),404===(null===(r=t.response)||void 0===r?void 0:r.status)||400===(null===(s=t.response)||void 0===s?void 0:s.status)||l.$.serverIsDown(h.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),this.router=t}},36534:function(e){e.exports={form_container:"formGlCodesCreate_form_container__0VilF",form_create:"formGlCodesCreate_form_create__sPJdH",form_subtitle:"formGlCodesCreate_form_subtitle__BNUNj",form_user_create_col:"formGlCodesCreate_form_user_create_col__pT1bW",labelRequired:"formGlCodesCreate_labelRequired__fg8oK",infoIcon:"formGlCodesCreate_infoIcon__9Bxo9",infoText:"formGlCodesCreate_infoText__FYZPG",alertSuccess:"formGlCodesCreate_alertSuccess__sfx3d",text:"formGlCodesCreate_text__t1oEb",moveToRight:"formGlCodesCreate_moveToRight__QUYnK"}},828:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(13375);var n=r(91566);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,s.Z)(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);