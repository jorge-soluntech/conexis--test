(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8993],{62700:function(e,t,r){"use strict";r.r(t);var s=r(47568),n=r(828),i=r(70655),o=r(85893),a=r(834),u=r(51945),c=r(97183),l=r(50261),d=r(71230),v=r(15746),h=r(11163),m=r(67294),f=r(21852),p=r(48522),_=r(42144),g=r(94329),b=r(89235),w=r(53478),y=r(51898),Z=r(66474),U=r.n(Z),j=u.Z.Title,x=c.Z.Content;t.default=function(e){var t=e.titleForm,r=(0,n.Z)(l.Z.useForm(),1)[0],u=(0,h.useRouter)(),c=(0,m.useState)(!1),Z=c[0],B=c[1],F=(0,m.useState)(!1),N=F[0],S=F[1],k=(0,m.useState)(!1),E=k[0],I=k[1],P=(0,m.useState)(!1),C=P[0],D=P[1],R=(0,m.useContext)(f.Vo).dataUser,V=b.i2,$=b.k6,z=(0,m.useState)($.errors.required),T=z[0],q=z[1],A=new g.w(u),H=[{required:!0,validator:function(){var e=(0,s.Z)((function(e,t){return(0,i.__generator)(this,(function(e){return t?[2,Promise.resolve()]:(q(V.create.errors.number),B(!0),[2,Promise.reject()])}))}));return function(t,r){return e.apply(this,arguments)}}()}],Q=[{validator:function(){var e=(0,s.Z)((function(e,t){return(0,i.__generator)(this,(function(e){return t&&t.toString().length<10?(q(V.create.errors.phone),S(!0),B(!0),[2,Promise.reject()]):[2,Promise.resolve()]}))}));return function(t,r){return e.apply(this,arguments)}}()}],J=[{type:"email",validator:function(){var e=(0,s.Z)((function(e,t){return(0,i.__generator)(this,(function(e){return t?p.bF.test(t)?[2,Promise.resolve()]:(q(V.create.errors.email),B(!0),[2,Promise.reject()]):[2,Promise.resolve()]}))}));return function(t,r){return e.apply(this,arguments)}}()}],L=function(){var e=(0,s.Z)((function(e){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return t={id_tenant:void 0,business_unit_number:e.businessUnitNumber.toString(),first_name:e.firstName,last_name:e.lastName,primary_email:e.primaryEmail?e.primaryEmail.toLowerCase():void 0,primary_phone:e.primaryPhone?e.primaryPhone.toString():void 0,address:e.address,location:e.location},D(!0),[4,A.createBusinessUnit(t).then((function(){I(!0)})).catch((function(e){var t,r,s,n,i,o,a,u,c,l,d;400===e.request.status&&(q(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.toString()),B(!0),(null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)&&Array.isArray(null===(o=e.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)&&(null===(u=e.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.message[0])&&(null===(l=e.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message[0].includes("must be an email"))&&(q($.errors.email),B(!0)));500===e.request.status&&(q($.errors.main_error),B(!0))}))];case 1:return r.sent(),D(!1),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(x,{children:(0,o.jsxs)("div",{className:"".concat(U().form_container),children:[(0,o.jsx)(d.Z,{children:(0,o.jsx)(v.Z,{children:(0,o.jsxs)("div",{className:U().back_arrow,onClick:function(){u.push(_.zN,void 0,{shallow:!0})},children:[(0,o.jsx)(a.Z,{}),"\xa0 ",V.title]})})}),(0,o.jsx)("div",{className:U().form_subtitle,children:R?R.logged_buyer_client_company_name:""}),(0,o.jsx)(j,{style:{marginBottom:"20px",marginTop:"0",fontSize:32},level:2,children:t}),E?(0,o.jsx)(y.Z,{successMessage:V.create.sucessfullCreation}):(0,o.jsx)(w.Z,{create:!0,showError:Z,messageError:T,setShowError:B,onSubmit:L,clearInformationFields:function(){r.setFieldsValue({businessUnitNumber:void 0,address:void 0,location:void 0,primaryPhone:void 0})},clearOwnerFields:function(){r.setFieldsValue({firstName:void 0,lastName:void 0,primaryEmail:void 0})},loading:C,numberValidationRules:H,phoneValidationRules:Q,emailValidationRules:J,phoneError:N,form:r})]})})})}},94329:function(e,t,r){"use strict";r.d(t,{w:function(){return d}});var s=r(47568),n=r(51438),i=r(70655),o=r(51573),a=r(97237),u=r(17632),c=function(e,t){return"".concat(e).concat(t)},l="https://d5ja6jkvsot2v.cloudfront.net",d=function e(t){(0,n.Z)(this,e);var r=this;this.createBusinessUnit=function(){var e=(0,s.Z)((function(e){var t,s,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,a.Z)((0,o.DH)([c(l,"/businessUnits/create")],e))];case 1:return[2,i.sent().data];case 2:throw t=i.sent(),404===(null===(s=t.response)||void 0===s?void 0:s.status)||400===(null===(n=t.response)||void 0===n?void 0:n.status)||u.$.serverIsDown(r.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var d=this;this.getBusinessUnit=function(){var e=(0,s.Z)((function(e){var t,r,s;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.Z)((0,o.DH)([c(l,"/businessUnits/create")],e))];case 1:return[2,n.sent().data];case 2:throw t=n.sent(),404===(null===(r=t.response)||void 0===r?void 0:r.status)||400===(null===(s=t.response)||void 0===s?void 0:s.status)||u.$.serverIsDown(d.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var v=this;this.getBusinessUnits=(0,s.Z)((function(){var e,t,r;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,(0,a.Z)((0,o.zn)(c(l,"/businessUnits/readAll")))];case 1:return[2,s.sent().data];case 2:throw e=s.sent(),404===(null===(t=e.response)||void 0===t?void 0:t.status)||400===(null===(r=e.response)||void 0===r?void 0:r.status)||u.$.serverIsDown(v.router),e;case 3:return[2]}}))}));var h=this;this.getBusinessUnitById=function(){var e=(0,s.Z)((function(e){var t,r,s;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.Z)((0,o.zn)(c(l,"/businessUnits/".concat(e))))];case 1:return[2,n.sent().data];case 2:throw t=n.sent(),404===(null===(r=t.response)||void 0===r?void 0:r.status)||400===(null===(s=t.response)||void 0===s?void 0:s.status)||u.$.serverIsDown(h.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var m=this;this.updateBusinessUnit=function(){var e=(0,s.Z)((function(e,t){var r,s,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,a.Z)((0,o.FQ)([c(l,"/businessUnits/".concat(e))],t))];case 1:return[2,i.sent().data];case 2:throw r=i.sent(),404===(null===(s=r.response)||void 0===s?void 0:s.status)||400===(null===(n=r.response)||void 0===n?void 0:n.status)||u.$.serverIsDown(m.router),r;case 3:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}();var f=this;this.toggleBusinessUnit=function(){var e=(0,s.Z)((function(e){var t,r,s;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.Z)((0,o.FQ)([c(l,"/businessUnits/".concat(e,"/isActive/toggle"))],{}))];case 1:return[2,n.sent().data];case 2:if(t=n.sent(),400===(null===(r=t.response)||void 0===r?void 0:r.status))return[2,{statusCode:t.response.data.statusCode,message:t.response.data.message}];throw 404===(null===(s=t.response)||void 0===s?void 0:s.status)||u.$.serverIsDown(f.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),this.router=t}},66474:function(e){e.exports={form_container:"BUForm_form_container__JvI8E",form_subtitle:"BUForm_form_subtitle__hvNos",back_arrow:"BUForm_back_arrow__390jl",moveToRight:"BUForm_moveToRight__rBIzT"}}}]);