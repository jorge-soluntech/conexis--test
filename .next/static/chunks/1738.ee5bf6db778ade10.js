(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1738],{72017:function(e,t,a){"use strict";var n=a(85893),r=a(25675),i=a.n(r),s=a(28841),o=a(94547),c=a.n(o);t.Z=function(e){var t=e.message,a=e.afterClose,r=e.widthIcon,o=void 0===r?24:r,l=e.heightICon,u=void 0===l?24:l,d=e.srcIcon,m=void 0===d?"/assets/icons/alert_error.svg":d,h=e.success,p=void 0!==h&&h;return(0,n.jsx)(s.bZ,{showIcon:!0,closable:!0,type:"error",message:t,className:p?c().success:c().alert,afterClose:function(){return a()},icon:(0,n.jsx)(i(),{alt:"Alert",src:m,width:o,height:u})})}},63878:function(e,t,a){"use strict";a.d(t,{Z:function(){return E}});var n=a(85893),r=a(25675),i=a.n(r),s=a(72017),o=a(28841),c=a(64577),l=a.n(c),u=a(44434),d=a(26042),m=a(69396),h=a(67294),p=a(89480),_=a(28916),f=a(47568),v=a(70655),b=a(11163),y=a.n(b),g=a(21852),x=a(94411),A=a(22915),j=a(62360),w=a(62633),S=a(70092),C=a(8025),Z=a(46833),N=function(e){var t=e.dashboard,a=(0,p.T)(),n=(0,h.useState)(!1),r=n[0],i=n[1],s=(0,h.useState)(!1),o=s[0],c=s[1],l=(0,h.useState)({}),u=l[0],b=l[1],N=(0,h.useState)(!0),E=N[0],F=N[1],D=(0,h.useState)([]),T=D[0],k=D[1],I=(0,_.V)({setErrors:b,setShowError:c,attachments:T,setAttachments:k,setIsNewAttachment:F,dashboard:t}).validateAttachments,O=function(e){var t=e.dashboard,a=e.attachments,n=e.setIsNewAttachment,r=e.setAttachments,i=e.setIsLoading,s=(0,j.Z)().updateS3File,o=(0,h.useContext)(g.Vo),c=o.idTenant,l=o.dataUser,u=(0,p.C)((function(e){return e.buyers})).dataBuyer,_=(0,p.C)((function(e){return e.suppliers})).dataSupplier,b=new S.i(y()),N=new C.S(y());(0,h.useEffect)((function(){var e;(null===u||void 0===u||null===(e=u.attachments)||void 0===e?void 0:e.length)>0&&(n(!1),r(u.attachments))}),[null===u||void 0===u?void 0:u.attachments,r,n]),(0,h.useEffect)((function(){var e;(null===_||void 0===_||null===(e=_.attachments)||void 0===e?void 0:e.length)>0&&(n(!1),r(_.attachments))}),[null===_||void 0===_?void 0:_.attachments,r,n]);var E=function(){var e=(0,f.Z)((function(){var e;return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return e=a.map(function(){var e=(0,f.Z)((function(e){var a;return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return[4,s({url:e.url,originFileObj:e.file.originFileObj,type:e.file.type})];case 1:return n.sent(),a={name:e.name,file:e.path,type:e.type,original_name:e.file.name,expiry_date:e.expiryDate},t===w.j2.supplier&&(a.buyer_id=l.logged_buyer),[2,a]}}))}));return function(t){return e.apply(this,arguments)}}()),[4,Promise.all(e)];case 1:return[2,n.sent().filter((function(e){return e}))]}}))}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,f.Z)((function(){var e,t,a,n;return(0,v.__generator)(this,(function(r){switch(r.label){case 0:return t={},Object.keys(u).forEach((function(e){var a=e.replace(/([A-Z])/g,"_$1").toLowerCase();t[a]=u[e]})),t.id_tenant=c,t.primary_contact_email=""===u.primaryContactEmail?null:u.primaryContactEmail,t.accounts_payable_contact_email=""===u.accountsPayableContactEmail?null:u.accountsPayableContactEmail,t.bypass_job_approval=!u.bypassJobApproval,t.bypass_submission_approval=!u.bypassSubmissionApproval,t.contract_approver_id=null===(e=u.contractApproverId)||void 0===e?void 0:e.value,[4,E()];case 1:return a=r.sent(),t.attachments=a,t.is_self_served=null!==(n=u.isSelfServed)&&void 0!==n&&n,[2,t]}}))}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,f.Z)((function(){var e;return(0,v.__generator)(this,(function(t){switch(t.label){case 0:return i(!0),[4,F()];case 1:return e=t.sent(),[2,b.createBuyer(e)]}}))}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,f.Z)((function(){var e;return(0,v.__generator)(this,(function(t){switch(t.label){case 0:return i(!0),[4,E()];case 1:return e=t.sent(),[2,N.createSupplier((0,m.Z)((0,d.Z)({},_),{id_tenant:c,primary_contact_email:""===_.primary_contact_email?null:_.primary_contact_email,attachments:e,secondary_contact_email:""===_.secondary_contact_email?null:_.secondary_contact_email,tertiary_contact_email:""===_.tertiary_contact_email?null:_.tertiary_contact_email,accounts_receivable_contact_email:""===_.accounts_receivable_contact_email?null:_.accounts_receivable_contact_email,primary_contact_phone:(0,Z.Z)(_.primary_contact_phone),geographic_coverage:[_.geographic_coverage].flat(),diversity_certifications:[_.diversity_certifications].flat()}))]}}))}));return function(){return e.apply(this,arguments)}}(),k=l.permissioned_buyers.filter((function(e){var t,a,n=e.buyer;return null!==(a=null===(t=_.associated_buyers)||void 0===t?void 0:t.includes(n))&&void 0!==a?a:[]})).map((function(e){return{value:e.buyer,label:e.buyerName}}));return{createRecord:t===w.j2.supplier?T:D,dataDashboard:t===w.j2.supplier?_:u,setDataDashboard:t===w.j2.supplier?A.Bq:x.x1,setDashboardStep:t===w.j2.supplier?A.EY:x.HQ,clearDashboardData:t===w.j2.supplier?A.qS:x.IG,dataUser:l,buyerOptions:t===w.j2.supplier?k:[]}}({dashboard:t,attachments:T,setAttachments:k,setIsLoading:i,setIsNewAttachment:F}),L=O.createRecord,B=O.dataDashboard,P=O.setDataDashboard,R=O.setDashboardStep,M=O.clearDashboardData,U=O.buyerOptions;return{onBack:function(){a(R(2)),a(P((0,m.Z)((0,d.Z)({},B),{attachments:T})))},errors:u,setErrors:b,isLoading:r,showError:o,setShowError:c,attachments:T,setAttachments:k,isNewAttachment:E,setIsNewAttachment:F,handleContinue:function(){a(P((0,m.Z)((0,d.Z)({},B),{attachments:T}))),I()?c(!0):(c(!1),L().then((function(){a(R(4)),a(M())})).catch((function(e){var t,a,n;(i(!1),400===(null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.status))&&b({invalidFile:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message})})))},buyerOptions:U}},E=function(e){var t=e.dashboard,a=N({dashboard:t}),r=a.onBack,c=a.errors,d=a.setErrors,m=a.isLoading,h=a.showError,p=a.setShowError,_=a.attachments,f=a.setAttachments,v=a.isNewAttachment,b=a.setIsNewAttachment,y=a.handleContinue,g=a.buyerOptions;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Zb,{className:l().form_create,children:(0,n.jsxs)("div",{children:[h&&(0,n.jsx)(s.Z,{message:c[Object.keys(c)[0]],afterClose:function(){return p(!1)}}),(0,n.jsxs)(o.l0,{scrollToFirstError:!0,name:"Attachments",onFinish:y,children:[(0,n.jsx)("div",{className:l().form_subtitle_container,children:(0,n.jsxs)("div",{className:l().form_small_title,children:["Attachments ",(0,n.jsx)("span",{children:" (optional)"})]})}),(0,n.jsx)(u.d,{errors:c,setErrors:d,setShowError:p,attachments:_,setAttachments:f,isNewAttachment:v,setIsNewAttachment:b,dashboard:t,buyerOptions:g}),_.length>0&&!v&&(0,n.jsxs)("p",{className:l().add_attachment,onClick:function(){return b(!0)},children:[(0,n.jsx)(i(),{alt:"plus",width:12,height:12,src:"/assets/icons/plus_icon.svg"}),"Add another attachment"]}),(0,n.jsxs)("div",{className:l().continue_button,children:[(0,n.jsx)(o.zx,{type:"default",onClick:r,children:"Back"}),(0,n.jsx)(o.zx,{size:"large",type:"primary",htmlType:"submit",loading:m,children:"Submit"})]})]})]})})})}},34582:function(e,t,a){"use strict";a.d(t,{Z:function(){return U}});var n=a(85893),r=a(834),i=a(4393),s=a(50261),o=a(74919),c=a(71577),l=a(27484),u=a.n(l),d=a(25675),m=a.n(d),h=a(72017),p=a(20720),_=a(44434),f=a(81740),v=a.n(f),b=a(47568),y=a(26042),g=a(69396),x=a(29815),A=a(70655),j=a(11163),w=a.n(j),S=a(67294),C=a(57632),Z=a(89480),N=a(62360),E=a(62633),F=a(39005),D=a(17632),T=a(28916),k=a(21852),I=a(94411),O=a(22915),L=a(70092),B=a(8025),P=a(46833),R=function(){var e=(0,b.Z)((function(e){var t,a,n,r,i,s,o;return(0,A.__generator)(this,(function(c){return t=e.dashboardData,a=e.idTenant,n=e.dashboard,r=e.attachments,s=function(e){var t=e.attachments,a=e.dashboard;return t.filter((function(e){return void 0!==e})).map((function(e){var t={name:e.name,file:e.path,type:e.type,original_name:e.file.name,expiry_date:e.expiryDate};return a===E.j2.supplier&&(t.buyer_id=e.buyer),t})).filter((function(e){return e}))}({dashboard:n,attachments:r}),n===E.j2.supplier?[2,(0,g.Z)((0,y.Z)({},t),{id_tenant:a,attachments:s,secondary_contact_email:""===t.secondary_contact_email?null:t.secondary_contact_email,tertiary_contact_email:""===t.tertiary_contact_email?null:t.tertiary_contact_email,accounts_receivable_contact_email:""===t.accounts_receivable_contact_email?null:t.accounts_receivable_contact_email,primary_contact_phone:(0,P.Z)(t.primary_contact_phone),geographic_coverage:[t.geographic_coverage].flat(),diversity_certifications:[t.diversity_certifications].flat()})]:(o={},Object.keys(t).forEach((function(e){var a=e.replace(/([A-Z])/g,"_$1").toLowerCase();o[a]=t[e]})),o.id_tenant=a,o.primary_contact_email=""===t.primaryContactEmail?null:t.primaryContactEmail,o.accounts_payable_contact_email=""===t.accountsPayableContactEmail?null:t.accountsPayableContactEmail,o.bypass_job_approval=!t.bypassJobApproval,o.bypass_submission_approval=!t.bypassSubmissionApproval,o.contract_approver_id=null===(i=t.contractApproverId)||void 0===i?void 0:i.value,o.attachments=s,[2,o])}))}));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=e.dashboard,a=(0,Z.T)(),n=function(e){var t=e.dashboard,a=new B.S(w()),n=new L.i(w()),r=(0,S.useContext)(k.Vo),i=r.idTenant,s=r.dataUser,o=(0,S.useState)(!1),c=o[0],l=o[1],u=(0,Z.C)((function(e){return e.suppliers})),d=u.supplierId,m=u.dataSupplier,h=u.listAttachments,p=(0,Z.C)((function(e){return e.buyers})),_=p.idEditBuyer,f=p.dataBuyer,v=p.existingAttachments,y=t===E.j2.supplier?m:f,g=function(){var e=(0,b.Z)((function(e){var r,s;return(0,A.__generator)(this,(function(o){switch(o.label){case 0:return r=e.attachments,l(!0),[4,R({dashboard:t,dashboardData:y,idTenant:i,attachments:r})];case 1:return s=o.sent(),t===E.j2.supplier?[2,a.editSupplier(d,s)]:[2,n.editBuyer(_,s)]}}))}));return function(t){return e.apply(this,arguments)}}(),x=s.permissioned_buyers.filter((function(e){var t,a,n=e.buyer;return null!==(a=null===(t=m.associated_buyers)||void 0===t?void 0:t.includes(n))&&void 0!==a?a:[]})).map((function(e){return{value:e.buyer,label:e.buyerName}}));return{editRecord:g,isLoading:c,setIsLoading:l,setDashboardStep:t===E.j2.supplier?O.EY:I.HQ,clearDashboardData:O.qS,setDataDashboard:t===E.j2.supplier?O.Bq:I.x1,dataAttachments:t===E.j2.supplier?m.attachments:f.attachments,existingAttachments:t===E.j2.supplier?h:v,buyerOptions:t===E.j2.supplier?x:[],setListAttachments:t===E.j2.supplier?O.Ld:I.$w,dashboardData:y}}({dashboard:t}),r=n.editRecord,i=n.setDashboardStep,s=n.clearDashboardData,o=n.setDataDashboard,c=n.buyerOptions,l=n.dataAttachments,u=n.existingAttachments,d=n.setListAttachments,m=n.dashboardData,h=n.isLoading,p=n.setIsLoading,_=(0,S.useState)(!1),f=_[0],v=_[1],j=(0,S.useState)({}),P=j[0],M=j[1],U=(0,S.useState)(!1),V=U[0],q=U[1],Y=(0,S.useState)(!0),G=Y[0],z=Y[1],W=(0,S.useState)(l),H=W[0],Q=W[1],J=(0,S.useState)([]),$=J[0],K=J[1],X=(0,T.V)({setErrors:M,setShowError:v,attachments:$,setAttachments:K,setIsNewAttachment:q,dashboard:t}).validateAttachments,ee=function(){var e=(0,b.Z)((function(e){return(0,A.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,D.$.downloadS3File({id:e.file,name:e.name},w())];case 1:return t.sent(),[3,3];case 2:return t.sent(),M({downloadFile:"There's been an error. Please try again later."}),v(!0),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),te=(0,N.Z)().updateS3File,ae=function(){p(!0);var e=$.filter((function(e){return void 0!==e})).map(function(){var e=(0,b.Z)((function(e){var a;return(0,A.__generator)(this,(function(n){switch(n.label){case 0:return[4,te({url:e.url,originFileObj:e.file.originFileObj,type:e.file.type})];case 1:return n.sent(),a={name:e.name,file:e.path,type:e.type,original_name:e.file.name,expiry_date:e.expiryDate},t===E.j2.supplier&&(a.buyer_id=e.buyer),[2,a]}}))}));return function(t){return e.apply(this,arguments)}}());return Promise.all(e)},ne=function(){var e=(0,b.Z)((function(){var e;return(0,A.__generator)(this,(function(t){switch(t.label){case 0:return X()?(v(!0),z(!1),[3,3]):[3,1];case 1:return Q((function(e){return(0,x.Z)(e||[]).concat([$[0]])})),e=$.map((function(e){return{key:(0,C.Z)(),id:e.id,file:e.path,name:e.name,original_name:e.file.name,type:e.type,expiry_date:e.expiryDate,buyer_id:""}})),[4,ae()];case 2:t.sent(),p(!1),a(d(u.concat(e))),z(!0),v(!1),K([]),t.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return{onBack:function(){a(i(F.Lq.stepThree)),a(o((0,g.Z)((0,y.Z)({},m),{attachments:H})))},errors:P,isLoading:h,setErrors:M,showError:f,setShowError:v,setAttachments:Q,isNewAttachment:V,setIsNewAttachment:q,existingAttachments:u,downloadS3File:ee,handleContinue:function(){a(o((0,g.Z)((0,y.Z)({},m),{attachments:H}))),X()?(v(!0),z(!1)):(v(!1),r({attachments:H}).then((function(){a(i(F.Lq.success)),a(s())})).catch((function(e){var t,a,n;(p(!1),400===(null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.status))&&M({invalidFile:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message})})))},viewListAttachments:G,setViewListAttachments:z,newAttachment:$,setNewAttachment:K,validateNewAttachment:ne,buyerOptions:c}},U=function(e){var t=e.dashboard,a=M({dashboard:t}),l=a.onBack,d=a.errors,f=a.isLoading,b=a.setErrors,y=a.showError,g=a.setShowError,x=a.isNewAttachment,A=a.setIsNewAttachment,j=a.existingAttachments,w=a.handleContinue,S=a.viewListAttachments,C=a.setViewListAttachments,Z=a.newAttachment,N=a.setNewAttachment,E=a.validateNewAttachment,F=a.buyerOptions,D=a.downloadS3File,T=[{title:function(){return(0,n.jsx)("span",{className:v().headerTable,children:"File"})},dataIndex:"original_name",className:v().columnTable,sorter:function(e,t,a){return(0,p.Z)(e,t,"original_name",a)},render:function(e,t){return(0,n.jsxs)("div",{className:v().attachment,onClick:function(){return D(t)},children:[(0,n.jsx)(m(),{width:40,height:40,alt:"attachment",src:"/assets/icons/attachmentRow.svg"}),(0,n.jsx)("p",{children:t.original_name})]})}},{title:function(){return(0,n.jsx)("span",{className:v().headerTable,children:"Name"})},dataIndex:"name",className:v().columnTable,sorter:function(e,t,a){return(0,p.Z)(e,t,"name",a)},render:function(e,t){return(0,n.jsx)("p",{className:v().column_paragraph,children:t.name})}},{title:function(){return(0,n.jsx)("span",{className:v().headerTable,children:"Type of document"})},dataIndex:"type",className:v().columnTable,sorter:function(e,t,a){return(0,p.Z)(e,t,"type",a)},render:function(e,t){return(0,n.jsx)("p",{className:v().column_paragraph,children:t.type})}},{title:function(){return(0,n.jsx)("span",{className:v().headerTable,children:"Expiry date"})},dataIndex:"expiry_date",className:v().columnTable,sorter:function(e,t,a){return(0,p.Z)(e,t,"expiry_date",a)},render:function(e,t){return(0,n.jsx)("p",{className:v().column_paragraph,children:(null===t||void 0===t?void 0:t.expiry_date)?u()(t.expiry_date).format("DD MMM YYYY"):""})}}];return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.Z,{className:v().card,children:[y&&(0,n.jsx)(h.Z,{message:d[Object.keys(d)[0]],afterClose:function(){return g(!1)}}),(0,n.jsx)(s.Z,{scrollToFirstError:!0,name:"Attachments",onFinish:w,children:S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:v().table_wrapper,children:(0,n.jsx)(o.Z,{columns:T,pagination:!1,className:v().table,dataSource:j})}),(0,n.jsxs)("p",{className:v().add_attachment,onClick:function(){C(!1),A(!0)},children:[(0,n.jsx)(m(),{alt:"plus",width:12,height:12,src:"/assets/icons/plus_icon.svg"}),"Add another attachment"]}),(0,n.jsxs)("div",{className:v().buttons,children:[(0,n.jsx)(c.ZP,{type:"default",onClick:l,children:"Back"}),(0,n.jsx)(c.ZP,{size:"large",type:"primary",htmlType:"submit",loading:f,children:"Submit"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:v().on_back,onClick:function(){g(!1),C(!0),N([])},children:[(0,n.jsx)(r.Z,{}),"\xa0 Go back to attachments"]}),(0,n.jsx)("div",{className:v().form_subtitle_container,children:(0,n.jsx)("div",{className:v().form_small_title,children:"Add new attachment"})}),(0,n.jsx)(_.d,{errors:d,setErrors:b,setShowError:g,attachments:Z,setAttachments:N,isNewAttachment:x,setIsNewAttachment:A,buyerOptions:F,dashboard:t}),(0,n.jsx)("div",{className:v().back_add_attachment,children:(0,n.jsx)(c.ZP,{size:"large",type:"primary",loading:f,onClick:E,children:"Submit"})})]})})]})})}},44434:function(e,t,a){"use strict";a.d(t,{d:function(){return x}});var n=a(47568),r=a(70655),i=a(85893),s=a(50261),o=a(67527),c=a(75008),l=a(61342),u=a(71230),d=a(15746),m=a(27484),h=a.n(m),p=a(2578),_=a(72496),f=a(62633),v=a(39005),b=a(90192),y=a.n(b),g=a(28916),x=function(e){var t=e.errors,a=e.setErrors,m=e.setShowError,b=e.attachments,x=e.setAttachments,A=e.isNewAttachment,j=e.setIsNewAttachment,w=e.buyerOptions,S=e.dashboard,C=(0,g.V)({setErrors:a,setShowError:m,attachments:b,setAttachments:x,setIsNewAttachment:j,dashboard:S}),Z=C.onChange,N=C.addAttachment,E=C.updateAttachment,F=C.deleteAttachment,D=function(e){return(0,i.jsx)(s.Z.Item,{required:!0,label:"Type of document",className:y().label,initialValue:e.type,validateStatus:t["".concat(e.id,"_type")]?"error":"",children:(0,i.jsx)(o.Z,{size:"large",value:e.type,maxTagCount:"responsive",optionFilterProp:"children",placeholder:"Select type of document here",className:"dummyClassCreateFormForBorder",style:{width:"100%",borderRight:"white"},onChange:function(t){return Z(e.id,"type",t)},options:S===f.j2.supplier?v.wD:_.wD})})},T=function(e){return(0,i.jsx)(s.Z.Item,{label:"Name",required:!0,className:y().label,initialValue:e.name,validateStatus:t["".concat(e.id,"_name")]?"error":"",rules:S===f.j2.supplier?void 0:[{validator:function(){var e=(0,n.Z)((function(e,t){return(0,r.__generator)(this,(function(e){return t&&t.length<10?[2,Promise.reject()]:[2,Promise.resolve()]}))}));return function(t,a){return e.apply(this,arguments)}}()}],children:(0,i.jsx)(c.Z,{type:"text",size:"large",placeholder:"Enter name here",value:e.name,onChange:function(t){return Z(e.id,"name",t.target.value)}})})},k=function(e){return(0,i.jsx)(s.Z.Item,{label:"Buyer",className:y().label,validateStatus:t["".concat(e.id,"_buyer")]?"error":"",required:!0,children:(0,i.jsx)(o.Z,{size:"large",value:e.buyer,maxTagCount:"responsive",optionFilterProp:"children",placeholder:"Select buyer here",className:"dummyClassCreateFormForBorder",style:{width:"100%",borderRight:"white"},onChange:function(t){return Z(e.id,"buyer",t)},options:w})})},I=function(e){return(0,i.jsx)(s.Z.Item,{label:"Expiry date",className:y().label,required:S===f.j2.supplier?"Supplier Agreements"===e.type||"COI"===e.type:"Client Agreement"===e.type,validateStatus:t["".concat(e.id,"_expiryDate")]?"error":"",children:(0,i.jsx)(l.Z,{placeholder:"Select expiry date here",defaultValue:e.expiryDate?h()(e.expiryDate):void 0,format:function(e){return"".concat(h()(e).format("DD MMM YYYY"))},onChange:function(t){return Z(e.id,"expiryDate",t?t.format("YYYY-MM-DDTHH:mm:ss.SSSZ"):void 0)}})})},O=function(e){return(0,i.jsxs)(s.Z.Item,{label:"File",className:y().label,children:[(0,i.jsx)(p.Z,{onChange:function(t){return E(e.id,t)}}),(0,i.jsx)("span",{className:y().show_attachment,children:e.fileName})]})};return(0,i.jsxs)(i.Fragment,{children:[b.length>0&&b.map((function(e,t){return(0,i.jsxs)("div",{className:y().attachment_wrapper,children:[(0,i.jsxs)("div",{className:y().new_attachment,children:[(0,i.jsxs)("span",{className:y().title_attachment,children:["Attachment ",t+1]}),b.length>0&&0!==t&&(0,i.jsx)("span",{className:y().text_attachment,onClick:function(){return F(e.id)},children:"Delete attachment"})]}),S===f.j2.supplier&&O(e),(0,i.jsxs)(u.Z,{className:y().row,children:[(0,i.jsx)(d.Z,{lg:12,sm:24,xs:24,md:12,children:S===f.j2.supplier?D(e):O(e)}),(0,i.jsx)(d.Z,{lg:12,sm:24,xs:24,md:12,children:S===f.j2.supplier?T(e):D(e)})]}),(0,i.jsxs)(u.Z,{className:y().row,children:[(0,i.jsx)(d.Z,{lg:12,sm:24,xs:24,md:12,children:S===f.j2.supplier?k(e):T(e)}),(0,i.jsx)(d.Z,{lg:12,sm:24,xs:24,md:12,children:I(e)})]})]},"ATT-".concat(e.id))})),A&&(0,i.jsx)(u.Z,{className:y().row,children:(0,i.jsx)(d.Z,{xs:24,children:(0,i.jsx)(s.Z.Item,{label:"File",className:y().label,children:(0,i.jsx)(p.Z,{onChange:N})})})})]})}},28916:function(e,t,a){"use strict";a.d(t,{V:function(){return b}});var n=a(47568),r=a(14924),i=a(26042),s=a(69396),o=a(29815),c=a(70655),l=a(57632),u=a(62360),d=a(72496),m=a(62633),h=a(39005),p=a(89235),_=a(25690),f=p.r_.stepFour,v=p.k6.errors.textErrorMandatoryEmptyFields,b=function(e){var t=e.setErrors,a=e.setShowError,p=e.attachments,b=e.setAttachments,y=e.setIsNewAttachment,g=e.dashboard,x=(0,u.Z)().uploadS3File,A=function(e){t({file:"".concat(e.file.name," file upload failed.")}),a(!0)},j=function(){var e=(0,n.Z)((function(e){var n;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return"done"!==e.file.status?[3,2]:[4,x(e.file.name)];case 1:return(n=r.sent()).error?(t({file:(0,_.capitalizeString)(n.message)}),a(!0)):(a(!1),b((function(t){return(0,o.Z)(t||[]).concat([{url:n.url,path:n.path,file:e.file,name:"",type:null,id:(0,l.Z)(),expiryDate:void 0,fileName:e.file.name}])})),y(!1)),[3,3];case 2:"error"===e.file.status&&A(e),r.label=3;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,n.Z)((function(e,n){var r;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return"done"!==n.file.status?[3,2]:[4,x(n.file.name)];case 1:return(r=o.sent()).error?(t({file:r.message}),a(!0)):(a(!1),b((function(t){return t.map((function(t){return t.id===e?(0,s.Z)((0,i.Z)({},t),{url:r.url,path:r.path,file:n.file,fileName:n.file.name}):t}))})),y(!1)),[3,3];case 2:"error"===n.file.status&&A(n),o.label=3;case 3:return[2]}}))}));return function(t,a){return e.apply(this,arguments)}}(),S=function(e,t,a){return(0,r.Z)({},"".concat(e,"_").concat(t),a)};return{onChange:function(e,t,a){b((function(n){return n.map((function(n){return n.id===e?(0,s.Z)((0,i.Z)({},n),(0,r.Z)({},t,a)):n}))}))},addAttachment:j,updateAttachment:w,deleteAttachment:function(e){var t=p.filter((function(t){return t.id!==e}));b(t)},validateAttachments:function(){var e={},a=Object.keys(g===m.j2.supplier?h.GZ.stepFourth.mandatories:d.GZ.stepFourth.mandatories).length,n=0;return p.forEach((function(t){if(t.type||(e=(0,i.Z)({},e,S(t.id,"type",f.TypeOfDocumentRequired)),n+=1),t.name||(e=(0,i.Z)({},e,S(t.id,"name",f.nameRequired)),n+=1),g!==m.j2.supplier||t.buyer||(e=(0,i.Z)({},e,S(t.id,"buyer",f.buyerRequired)),n+=1),g!==m.j2.supplier||"Supplier Agreements"!==t.type&&"COI"!==t.type||t.expiryDate)"Client Agreement"!==t.type||t.expiryDate||(e=(0,i.Z)({},e,S(t.id,"expiryDate",f.expiryDateRequired)));else{var a="Supplier Agreements"===t.type?t.type.toLowerCase():t.type;e=(0,i.Z)({},e,S(t.id,"expiryDate","The expiry date field is mandatory for ".concat(a,". Please make sure to fill it out before submitting the form.")))}})),p.length>0&&n===a*p.length&&(e=(0,i.Z)({emptyRequiredFields:v},e)),t(e),Object.keys(e).length>0}}}},94996:function(e,t,a){"use strict";var n=a(85893),r=a(51945),i=a(97183),s=a(3363),o=a(67294),c=a(3404),l=a(89480),u=a(62633),d=a(61897),m=a.n(d),h=r.Z.Title,p=i.Z.Content;t.Z=function(e){var t=e.titleForm,a=e.setStep,r=e.clearDataState,i=e.dashboard,d=e.stepProgressComponent,_=e.stepsComponents,f=e.currentStep,v=(0,l.T)();return(0,o.useEffect)((function(){return v(a(0)),function(){v(r())}}),[r,v,a]),(0,n.jsx)(p,{children:(0,n.jsxs)("div",{className:m().form_container,children:[(0,n.jsx)(h,{className:m().form_container__title,level:2,children:t}),(0,n.jsx)(s.Z,{responsive:!1,current:f,className:"".concat(m().steps," ").concat(i===u.j2.supplier?"supplier_steps":""),items:d}),_.length>0&&_.map((function(e){return e.step===f&&(0,n.jsx)(o.Fragment,{children:e.component},"".concat(i,"_step_").concat(e.step))})),f===_.length&&(0,n.jsx)(c.Z,{textButton:"Go back to ".concat(i),route:"/home/".concat(i),title:(0,n.jsxs)(n.Fragment,{children:[i.charAt(0).toUpperCase()+i.slice(1)," has been successfully ",(0,n.jsx)("br",{})," submitted."]})})]})})}},3404:function(e,t,a){"use strict";var n=a(85893),r=a(4393),i=a(71577),s=a(11163),o=a.n(s),c=a(35635),l=a.n(c),u={width:"100%",textAlign:"center",alignContent:"center",boxShadow:"none",padding:"10px"};t.Z=function(e){var t=e.title,a=e.subtitle,s=e.textButton,c=e.route;return(0,n.jsxs)(r.Z,{className:l().card,children:[(0,n.jsx)(r.Z.Grid,{hoverable:!1,style:u,children:(0,n.jsx)("div",{className:l().alert_success,children:"sucess"})}),(0,n.jsx)(r.Z.Grid,{hoverable:!1,style:u,children:(0,n.jsx)("span",{className:l().text,children:t})}),a&&(0,n.jsx)(r.Z.Grid,{hoverable:!1,style:u,children:(0,n.jsx)("p",{className:l().sub_text,children:a})}),(0,n.jsx)(r.Z.Grid,{hoverable:!1,style:u,children:(0,n.jsx)(i.ZP,{type:"default",size:"large",htmlType:"submit",className:l().button,onClick:function(){o().push(c)},children:s})})]})}},2578:function(e,t,a){"use strict";var n=a(85893),r=a(72708),i=a(25675),s=a.n(i),o=a(60255),c=a(89235),l=a(23753),u=a.n(l),d=c.wx.pD;t.Z=function(e){var t=e.titleUpload,a=void 0===t?d.title:t,i=e.titleUploadResponsive,c=void 0===i?d.titleResponsive:i,l=e.breakpoint,m=void 0===l?992:l,h=e.onChange,p=e.icon,_=void 0===p?"/assets/icons/uploadAttachment.svg":p,f=e.maxCount,v=e.fileName,b=e.onDownload,y=(0,o.Z)().width,g=void 0===y?0:y;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:u().drag_and_drop,children:(0,n.jsxs)(r.Z,{showUploadList:!1,onChange:function(e){return h(e)},customRequest:function(e){var t=e.onSuccess;return setTimeout((function(){t&&t("ok",void 0)}),0)},maxCount:f,children:[(0,n.jsx)(s(),{width:18,height:18,src:_,alt:"Upload attachment"}),(0,n.jsx)("span",{className:u().title,children:g<=m?c:a})]})}),v&&(0,n.jsx)("span",{className:u().show_attachment,onClick:b,children:v})]})}},62360:function(e,t,a){"use strict";var n=a(47568),r=a(70655),i=a(17632);t.Z=function(){var e=function(){var e=(0,n.Z)((function(e){var t,a;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return t=e.substring(e.lastIndexOf(".")+1),[4,i.$.uploadS3File(t)];case 1:return 200!==(a=n.sent()).statusCode?[2,{error:!0,message:a.message[0]}]:[2,{path:a.path,url:a.url}]}}))}));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,n.Z)((function(e){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.$.updateS3File(e.url,e.originFileObj,e.type)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return{uploadS3File:e,updateS3File:t}}},29776:function(e,t,a){"use strict";var n=a(47568),r=a(70655),i=a(67294),s=a(89235),o=a(33220);t.Z=function(){var e=(0,i.useState)(!1),t=e[0],a=e[1],c=(0,i.useState)(""),l=c[0],u=c[1],d=s.k6,m=function(e,t){u(t),a(e)};return{showError:t,setShowError:a,messageError:l,ruleValidator:function(e,t,a,i){return{type:t,required:e,validator:function(){var e=(0,n.Z)((function(e,t){return(0,r.__generator)(this,(function(e){return[2,a(t,i)]}))}));return function(t,a){return e.apply(this,arguments)}}()}},multiSelectValidator:function(e,t){return e&&0!==e.length?Promise.resolve():(u(t),a(!0),Promise.reject(t))},emptyFieldValidator:function(e,t){return e?Promise.resolve():(u(t),a(!0),Promise.reject(t))},emailFieldValidator:function(e,t){return e&&(0,o.Z)(e)?Promise.reject(t):Promise.resolve()},phoneFieldValidator:function(e,t){return e&&e.toString().length<14?Promise.reject(t):Promise.resolve()},validatorEmptyAllFields:function(e,t,a){if(null===a||void 0===a?void 0:a.every((function(e){return!e||0===(null===e||void 0===e?void 0:e.length)})))return m(!0,d.errors.textErrorEmptyFields),Promise.reject();return!e&&a.filter((function(e){return!e||0===(null===e||void 0===e?void 0:e.length)})).length>1?(m(!0,d.errors.textErrorEmptyFields),Promise.reject()):e?Promise.resolve():(m(!0,t),Promise.reject())},checkEmptyEmailField:function(e){return""===e||null===e?null:e},activateErrorAlert:m,validateMandatoryEmptyFields:function(e){var t=e.errorInfo,a=e.mandatoriesFields,n=t.errorFields,r=[];if(a.length===n.length){var i=n.map((function(e){return e.name[0]}));JSON.stringify(a)===JSON.stringify(i)&&r.push(d.errors.textErrorMandatoryEmptyFields)}return n.forEach((function(e){var t=e.name,a=e.errors;t&&(null===a||void 0===a?void 0:a[0])&&r.push(a[0])})),r}}}},39005:function(e,t,a){"use strict";a.d(t,{Ft:function(){return v},G1:function(){return b},GZ:function(){return x},Lq:function(){return A},Oc:function(){return y},ay:function(){return f},p2:function(){return _},rj:function(){return p},wD:function(){return g}});var n=a(85893),r=a(89235),i=r.r_,s=i.stepOne,o=i.stepTwo,c=i.stepThree,l=i.stepFour,u=r.vH,d=u.supplierStatus,m=u.workCategoriesCovered,h=u.nonResidentSupplier,p=[{title:(0,n.jsx)("span",{style:{lineHeight:"16px",width:"67px"},children:s.title})},{title:(0,n.jsx)("span",{style:{lineHeight:"16px",width:"58px"},children:o.title})},{title:(0,n.jsx)("span",{style:{lineHeight:"16px",width:"67px"},children:c.title})},{title:l.title}],_=[{label:"Ontario",value:"Ontario"},{label:"Quebec",value:"Quebec"},{label:"Maritimes",value:"Maritimes"},{label:"Manitoba",value:"Manitoba"},{label:"Saskatchewan",value:"Saskatchewan"},{label:"Alberta",value:"Alberta"},{label:"BC",value:"BC"},{label:"Yukon",value:"Yukon"},{label:"NWT",value:"NWT"},{label:"Nunuvat",value:"Nunuvat"},{label:"Canada",value:"Canada"},{label:"US North East",value:"US North East"},{label:"US South East",value:"US South East"},{label:"US Midwest",value:"US Midwest"},{label:"US South West",value:"US South West"}],f=[{label:m.itGeneralist,value:"Information Technology - Generalist"},{label:m.itDigital,value:"IT - Digital"},{label:m.itDataScience,value:"IT - Data Science (AI/Machine Learning)"},{label:m.administrative,value:"Administrative"},{label:m.lightIndustrial,value:"Light Industrial"},{label:m.engineering,value:"Engineering"},{label:m.financial,value:"Financial"},{label:m.salesMarketing,value:"Sales/Marketing"},{label:m.scientific,value:"Scientific"},{label:m.other,value:"Other"}],v=[{label:d.supplierAdvised,value:"1. Supplier Advised & Reviewing Documents"},{label:d.negotiation,value:"2.Negotiation - Redlines Received from Supplier"},{label:d.contracting,value:"3. Contracting - Awaiting signed contract back"},{label:d.contractSigned,value:"4. Contract Signed - Awaiting Compliance Docs"},{label:d.signedActive,value:"5. Signed - Active"},{label:d.signedInactive,value:"6. Signed - Inactive"},{label:d.cancelled,value:"7. Cancelled"},{label:d.onHold,value:"8. On Hold"}],b=[{label:h.yes,value:!0},{label:h.no,value:!1}],y=[{label:"WBE Canada",value:"WBE Canada"},{label:"(CAB) Canadian Aboriginal Business",value:"(CAB) Canadian Aboriginal Business"},{label:"CAMSC",value:"CAMSC"},{label:"Supplier Diversity Canada",value:"Supplier Diversity Canada"},{label:"WeConnect",value:"WeConnect"},{label:"WBENC",value:"WBENC"},{label:"SBA",value:"SBA"},{label:"DBE",value:"DBE"},{label:"Veteran Owned Certified Business",value:"Veteran Owned Certified Business"},{label:"NMSDC",value:"NMSDC"}],g=[{label:"Supplier Agreements",value:"Supplier Agreements"},{label:"COI",value:"COI"},{label:"Proof of Inc.",value:"Proof of Inc."},{label:"Banking Info",value:"Banking Info"},{label:"Amendments",value:"Amendments"},{label:"Other",value:"Other"}],x={stepOne:{mandatories:{supplier_company_name:"supplier_company_name",legal_name_for_invoicing:"legal_name_for_invoicing",work_categories_covered:"work_categories_covered"},optionals:{primary_contact_name:"primary_contact_name",supplier_code:"supplier_code",primary_contact_email:"primary_contact_email",street_address_line1:"street_address_line1",primary_contact_phone:"primary_contact_phone",agreement_expiry_date:"agreement_expiry_date",country:"country",province_region:"province_region",city:"city",postal_code:"postal_code",tax_id:"tax_id",geographic_coverage:"geographic_coverage",dunn_and_bradstreet_number:"dunn_and_bradstreet_number",supplier_status:"supplier_status",is_non_resident_supplier:"is_non_resident_supplier",diversity_certifications:"diversity_certifications",comments:"comments"}},stepTwo:{optionals:{secondary_contact_name:"secondary_contact_name",secondary_contact_email:"secondary_contact_email",tertiary_contact_name:"tertiary_contact_name",tertiary_contact_email:"tertiary_contact_email",accounts_receivable_contact_name:"accounts_receivable_contact_name",accounts_receivable_contact_email:"accounts_receivable_contact_email"}},stepThree:{mandatories:{associated_buyers:"associated_buyers"}},stepFourth:{mandatories:{type:"type",buyer_id:"buyer_id",name:"name"},optionals:{expiry_date:"expiry_date"}}},A={stepOne:0,stepTwo:1,stepThree:2,stepFour:3,success:4}},33220:function(e,t,a){"use strict";var n=a(48522);t.Z=function(e){return!n.bF.test(e)}},46833:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=/\D/g,r=function(e){var t=null===e||void 0===e?void 0:e.toString().replace(n,"");return t?t.length<4?"(".concat(t):t.length<7?"(".concat(t.slice(0,3),") ").concat(t.slice(3)):"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6,10)):""}},20720:function(e,t){"use strict";t.Z=function(e,t,a,n){var r,i,s=(null===(r=e["".concat(a)])||void 0===r?void 0:r.trim())||"",o=(null===(i=t["".concat(a)])||void 0===i?void 0:i.trim())||"";return s||o?s?o?s.localeCompare(o,void 0,{numeric:!0}):"ascend"===n?-1:1:"ascend"===n?1:-1:0}},25690:function(e,t,a){"use strict";a.r(t),a.d(t,{capitalizeString:function(){return r},getInitials:function(){return n}});var n=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.match(/\b(\w)/g))||void 0===t?void 0:t.join("").substring(0,3).toUpperCase()},r=function(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))}},94547:function(e){e.exports={alert:"AlertMessage_alert__5c1UK",success:"AlertMessage_success__p8TfK",moveToRight:"AlertMessage_moveToRight__n3is8"}},64577:function(e){e.exports={form_create:"CreateAttachments_form_create__LM65b",form_subtitle_container:"CreateAttachments_form_subtitle_container__63_rc",form_small_title:"CreateAttachments_form_small_title__pU50U",add_attachment:"CreateAttachments_add_attachment__6fFS4",continue_button:"CreateAttachments_continue_button__1f2_q",moveToRight:"CreateAttachments_moveToRight__owNnF"}},81740:function(e){e.exports={card:"ListAndEditAttachments_card__FONhV",table_wrapper:"ListAndEditAttachments_table_wrapper__4MgxF",table:"ListAndEditAttachments_table__bVLxi",headerTable:"ListAndEditAttachments_headerTable__Pd_Qd",columnTable:"ListAndEditAttachments_columnTable__Gu_dv",attachment:"ListAndEditAttachments_attachment__pRgvc",on_back:"ListAndEditAttachments_on_back__szF2G",form_subtitle_container:"ListAndEditAttachments_form_subtitle_container__tzzQj",form_small_title:"ListAndEditAttachments_form_small_title__QKJnE",column_paragraph:"ListAndEditAttachments_column_paragraph__Nj_jl",add_attachment:"ListAndEditAttachments_add_attachment__vhk29",buttons:"ListAndEditAttachments_buttons__YjETO",back_add_attachment:"ListAndEditAttachments_back_add_attachment__X5qck",moveToRight:"ListAndEditAttachments_moveToRight__9T8ep"}},90192:function(e){e.exports={row:"FormAddAttachment_row__gJ8pV",label:"FormAddAttachment_label__kiq51",show_attachment:"FormAddAttachment_show_attachment__UB98Y",form_clear_fields:"FormAddAttachment_form_clear_fields__SGlWQ",continue_button:"FormAddAttachment_continue_button__ScCWD",attachment_wrapper:"FormAddAttachment_attachment_wrapper__iX7DN",new_attachment:"FormAddAttachment_new_attachment__tGEi8",title_attachment:"FormAddAttachment_title_attachment__IRaTy",text_attachment:"FormAddAttachment_text_attachment__8CGZV",moveToRight:"FormAddAttachment_moveToRight__TONFP"}},61897:function(e){e.exports={form_container:"MultiStep_form_container__DEkT4",form_container__title:"MultiStep_form_container__title__VPMyi",steps:"MultiStep_steps__OYgrn",moveToRight:"MultiStep_moveToRight__3wr1H"}},35635:function(e){e.exports={card:"SuccessComponent_card___yV_E",alert_success:"SuccessComponent_alert_success__G_iyF",text:"SuccessComponent_text__QyYQz",sub_text:"SuccessComponent_sub_text__100xp",button:"SuccessComponent_button__CD5KS",moveToRight:"SuccessComponent_moveToRight__e16RT"}},23753:function(e){e.exports={drag_and_drop:"UploadAttachmentComponent_drag_and_drop__alYeP",title:"UploadAttachmentComponent_title__ywtP5",show_attachment:"UploadAttachmentComponent_show_attachment__GnjTL",moveToRight:"UploadAttachmentComponent_moveToRight__SlDji"}}}]);