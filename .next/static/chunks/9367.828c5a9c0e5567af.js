(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9367],{79367:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return q}});var n=r(47568),s=r(828),o=r(70655),i=r(85893),a=r(834),l=r(51945),c=r(97183),u=r(50261),d=r(71230),m=r(15746),h=r(4393),f=r(71577),_=r(99138),v=r(75008),x=r(25675),p=r.n(x),g=r(11163),b=r(67294),C=r(21852),j=r(51438),y=r(51573),Z=r(97237),T=r(17632),w=function(e,t){return"".concat(e).concat(t)},N="https://d5ja6jkvsot2v.cloudfront.net",S=function e(t){(0,j.Z)(this,e);var r=this;this.createCostCenter=function(){var e=(0,n.Z)((function(e){var t,n,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,Z.Z)((0,y.DH)([w(N,"/costCenters/create")],e))];case 1:return[2,o.sent().data];case 2:throw t=o.sent(),404===(null===(n=t.response)||void 0===n?void 0:n.status)||400===(null===(s=t.response)||void 0===s?void 0:s.status)||T.$.serverIsDown(r.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var s=this;this.toggleCostCentersStatus=function(){var e=(0,n.Z)((function(e){var t,r,n;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,Z.Z)((0,y.FQ)([w(N,"/costCenters/".concat(e,"/isActive/toggle"))],{}))];case 1:return[2,o.sent().data];case 2:if(t=o.sent(),400===(null===(r=t.response)||void 0===r?void 0:r.status))return[2,{statusCode:t.response.data.statusCode,message:t.response.data.message}];throw 404===(null===(n=t.response)||void 0===n?void 0:n.status)||T.$.serverIsDown(s.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),this.router=t},P=r(94812),k=r.n(P),I=l.Z.Title,F=c.Z.Content,q=function(e){var t=e.titleForm,r=(0,s.Z)(u.Z.useForm(),1)[0],l=(0,g.useRouter)(),c=(0,b.useState)(!1),x=c[0],j=c[1],y=(0,b.useState)(!1),Z=y[0],T=y[1],w=(0,b.useContext)(C.Vo).dataUser,N=(0,b.useState)(!1),P=N[0],q=N[1],E=(0,b.useState)("This field is required"),z=E[0],V=E[1],R=new S(l),A=function(){var e=(0,n.Z)((function(e){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return t={id_tenant:void 0,cost_center:e.number.toString(),cost_center_name:e.name,buyer:void 0},q(!0),[4,R.createCostCenter(t).then((function(){T(!0)})).catch((function(e){var t,r;400===e.request.status&&(V(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message),j(!0));500===e.request.status&&(V("There's been an error. Please try again later."),j(!0))})).finally((function(){return q(!1)}))];case 1:return r.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),D={width:"100%",textAlign:"center",alignContent:"center",boxShadow:"none",padding:"10px"};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(F,{children:(0,i.jsxs)("div",{className:"".concat(k().form_container),children:[(0,i.jsx)(d.Z,{children:(0,i.jsx)(m.Z,{children:(0,i.jsxs)("div",{style:{cursor:"pointer",color:"#888E95",width:"fit-content",fontSize:"16px"},onClick:function(){l.push("/home/cost-centers",void 0,{shallow:!0})},children:[(0,i.jsx)(a.Z,{}),"\xa0 Cost centers"]})})}),(0,i.jsx)("div",{className:k().form_subtitle,children:w?w.logged_buyer_client_company_name:""}),(0,i.jsx)(I,{style:{marginBottom:"1.2rem",marginTop:"0rem",fontSize:32},level:2,children:t}),Z?(0,i.jsxs)(h.Z,{style:{paddingTop:"0rem"},className:k().form_create,children:[(0,i.jsx)(h.Z.Grid,{hoverable:!1,style:D,children:(0,i.jsx)("div",{style:{marginTop:"55px"},className:"".concat(k().alertSuccess),children:"sucess"})}),(0,i.jsx)(h.Z.Grid,{hoverable:!1,style:D,children:(0,i.jsxs)("span",{className:k().text,children:["Your cost center has been",(0,i.jsx)("br",{})," successfully submitted."]})}),(0,i.jsxs)(h.Z.Grid,{hoverable:!1,style:D,children:[(0,i.jsx)(f.ZP,{style:{fontSize:16},type:"default",size:"large",htmlType:"submit",onClick:function(){l.push("/home/cost-centers",void 0,{shallow:!0})},children:"Go back to cost centers"}),(0,i.jsx)("div",{style:{height:"50px"}})]})]}):(0,i.jsx)(h.Z,{style:{paddingTop:"0rem"},className:k().form_create,children:(0,i.jsxs)("div",{children:[x&&(0,i.jsx)(_.Z,{style:{marginBottom:"1rem"},message:z,className:"alert_red",type:"error",showIcon:!0,closable:!0,afterClose:function(){return j(!1)},icon:(0,i.jsx)(p(),{src:"/assets/icons/alert_error.svg",alt:"logo_conexis",width:24,height:24})}),(0,i.jsxs)(u.Z,{form:r,name:"register",onFinish:A,scrollToFirstError:!0,children:[(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(m.Z,{lg:24,sm:24,xs:24,style:{paddingBottom:"10px"},children:(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z.Item,{className:"".concat(k().labelRequired),name:"number",validateTrigger:"onSubmit",label:"Number",rules:[{required:!0,validator:function(){var e=(0,n.Z)((function(e,t){return(0,o.__generator)(this,(function(e){return r.getFieldValue("number")||r.getFieldValue("name")?t?[2,Promise.resolve()]:(V("The number field is mandatory. Please make sure to fill it out before submitting the form."),j(!0),[2,Promise.reject()]):(V("The fields are mandatory. Please make sure to fill it out before submitting the form."),j(!0),[2,Promise.reject()])}))}));return function(t,r){return e.apply(this,arguments)}}()}],children:(0,i.jsx)(v.Z,{size:"large",type:"text",placeholder:"Enter number here"})}),(0,i.jsxs)("div",{style:{padding:0,lineHeight:"16px"},children:[(0,i.jsx)("div",{className:"".concat(k().infoIcon),children:"."}),(0,i.jsx)("div",{className:"".concat(k().infoText),children:"You won\u2019t be able to edit this field later on."})]})]})}),(0,i.jsx)(m.Z,{lg:24,sm:24,xs:24,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z.Item,{className:"".concat(k().labelRequired),name:"name",validateTrigger:"onSubmit",label:"Name",rules:[{required:!0,validator:function(){var e=(0,n.Z)((function(e,t){return(0,o.__generator)(this,(function(e){return r.getFieldValue("number")||r.getFieldValue("name")?t?[2,Promise.resolve()]:(V("The name field is mandatory. Please make sure to fill it out before submitting the form."),j(!0),[2,Promise.reject()]):(V("The fields are mandatory. Please make sure to fill it out before submitting the form."),j(!0),[2,Promise.reject()])}))}));return function(t,r){return e.apply(this,arguments)}}()}],children:(0,i.jsx)(v.Z,{size:"large",type:"text",placeholder:"Enter cost center name here"})}),(0,i.jsxs)("div",{style:{padding:0,lineHeight:"16px"},children:[(0,i.jsx)("div",{className:"".concat(k().infoIcon),children:"."}),(0,i.jsx)("div",{className:"".concat(k().infoText),children:"You won\u2019t be able to edit this field later on."})]})]})})]}),(0,i.jsx)("div",{style:{marginTop:"24px"},children:(0,i.jsx)(f.ZP,{type:"primary",size:"large",htmlType:"submit",loading:P,children:"Submit"})})]})]})})]})})})}},94812:function(e){e.exports={form_container:"formCostCenterCreate_form_container__D9dtT",form_create:"formCostCenterCreate_form_create__Qu4Vh",form_subtitle:"formCostCenterCreate_form_subtitle__wDZPu",form_user_create_col:"formCostCenterCreate_form_user_create_col__EVzCu",labelRequired:"formCostCenterCreate_labelRequired__Zv5QG",infoIcon:"formCostCenterCreate_infoIcon__0wm8r",infoText:"formCostCenterCreate_infoText__YXv3A",alertSuccess:"formCostCenterCreate_alertSuccess__pjV9M",text:"formCostCenterCreate_text__eETcv",moveToRight:"formCostCenterCreate_moveToRight__g052J"}},828:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(13375);var s=r(91566);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,n.Z)(e,t)||(0,s.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);