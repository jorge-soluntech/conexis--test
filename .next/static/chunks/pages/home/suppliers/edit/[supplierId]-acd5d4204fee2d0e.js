(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1629],{92792:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/suppliers/edit/[supplierId]",function(){return r(58311)}])},62633:function(e,t,r){"use strict";r.d(t,{_I:function(){return l},aO:function(){return a},j2:function(){return o}});var n,s,u,i=r(14924),a={create:"create",edit:"edit",view:"view"},o={buyer:"buyers",supplier:"suppliers"},c="MSP Administrator",p="Program Manager",l=(u={},(0,i.Z)(u,o.buyer,(n={},(0,i.Z)(n,a.view,[c,p]),(0,i.Z)(n,a.create,[c]),(0,i.Z)(n,a.edit,[c]),n)),(0,i.Z)(u,o.supplier,(s={},(0,i.Z)(s,a.view,[c,p]),(0,i.Z)(s,a.create,[c]),(0,i.Z)(s,a.edit,[c]),s)),u)},8025:function(e,t,r){"use strict";r.d(t,{S:function(){return l}});var n=r(47568),s=r(51438),u=r(70655),i=r(51573),a=r(97237),o=r(17632),c=function(e,t){return"".concat(e).concat(t)},p="https://d5ja6jkvsot2v.cloudfront.net",l=function e(t){(0,s.Z)(this,e);var r=this;this.createSupplier=function(){var e=(0,n.Z)((function(e){var t,n,s,l;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,(0,a.Z)((0,i.DH)([c(p,"/suppliers")],e))];case 1:return[2,u.sent().data];case 2:throw t=u.sent(),404===(null===(n=t.response)||void 0===n?void 0:n.status)||400===(null===(s=t.response)||void 0===s?void 0:s.status)||403===(null===(l=t.response)||void 0===l?void 0:l.status)||o.$.serverIsDown(r.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var l=this;this.getSuppliers=function(){var e=(0,n.Z)((function(e){var t,r,n,s;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,(0,a.Z)((0,i.zn)(c(p,"/suppliers/byLoggedBuyer?page=".concat(e,"&size=20"))))];case 1:return[2,u.sent().data];case 2:throw t=u.sent(),404===(null===(r=t.response)||void 0===r?void 0:r.status)||400===(null===(n=t.response)||void 0===n?void 0:n.status)||403===(null===(s=t.response)||void 0===s?void 0:s.status)||o.$.serverIsDown(l.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var d=this;this.getSuppliersById=function(){var e=(0,n.Z)((function(e){var t,r,n,s;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,(0,a.Z)((0,i.zn)(c(p,"/suppliers/".concat(e))))];case 1:return[2,u.sent().data];case 2:throw t=u.sent(),404===(null===(r=t.response)||void 0===r?void 0:r.status)||400===(null===(n=t.response)||void 0===n?void 0:n.status)||403===(null===(s=t.response)||void 0===s?void 0:s.status)||o.$.serverIsDown(d.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var v=this;this.editSupplier=function(){var e=(0,n.Z)((function(e,t){var r,n,s,l;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,(0,a.Z)((0,i.FQ)([c(p,"/suppliers/".concat(e))],t))];case 1:return[2,u.sent().data];case 2:throw r=u.sent(),404===(null===(n=r.response)||void 0===n?void 0:n.status)||400===(null===(s=r.response)||void 0===s?void 0:s.status)||403===(null===(l=r.response)||void 0===l?void 0:l.status)||o.$.serverIsDown(v.router),r;case 3:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}();var f=this;this.validateSupplierCompanyName=function(){var e=(0,n.Z)((function(e,t){var r,n,s,l,d;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:r="/suppliers/validateCompanyName/".concat(e).concat(t?"?supplierId=".concat(t):""),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(0,a.Z)((0,i.zn)(c(p,r)))];case 2:return[2,u.sent().data];case 3:throw n=u.sent(),404===(null===(s=n.response)||void 0===s?void 0:s.status)||400===(null===(l=n.response)||void 0===l?void 0:l.status)||403===(null===(d=n.response)||void 0===d?void 0:d.status)||o.$.serverIsDown(f.router),n;case 4:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}(),this.router=t}},58311:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(85893),s=r(5152),u=r.n(s),i=r(56209),a=r(75047),o=r(47568),c=r(26042),p=r(69396),l=r(70655),d=r(27484),v=r.n(d),f=r(11163),h=r(67294),_=r(22915),y=r(89480),w=r(8025),Z=function(){var e=(0,h.useState)(!1),t=e[0],r=e[1],n=(0,f.useRouter)(),s=(0,y.T)();return(0,h.useEffect)((function(){r(!0),s((0,_.EY)(0));var e=function(){var e=(0,o.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return(e=n.query.supplierId)?[4,new w.S(n).getSuppliersById(e).then((function(e){var t=e.data;s((0,_.Bq)((0,p.Z)((0,c.Z)({},t),{associated_buyers:t.associated_buyers.map((function(e){return e.id})),agreement_expiry_date:t.agreement_expiry_date?v()(t.agreement_expiry_date):null,attachments:[]}))),s((0,_.Ld)(t.attachments.map((function(e){return{id:e.id,key:e.id,file:e.file,name:e.name,original_name:e.original_name,type:e.type,expiry_date:e.expiry_date?v()(e.expiry_date).format("DD MMM YYYY"):""}})))),s((0,_.Rn)(t.id)),r(!1)}))]:[2];case 1:return t.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return e(),function(){s((0,_.qS)())}}),[s,n]),{isLoading:t}},g=r(62633),m=u()((function(){return Promise.all([r.e(4193),r.e(2773),r.e(1738),r.e(9627)]).then(r.bind(r,19917))}),{loadableGenerated:{webpack:function(){return[19917]}},loading:function(){return(0,n.jsx)(i.Z,{})},ssr:!0}),b=function(){return(0,n.jsx)(a.pG,{useGetData:Z,withFormSteps:!0,children:(0,n.jsx)(m,{action:g.aO.edit,dashboard:g.j2.supplier})})}}},function(e){e.O(0,[7805,1945,1577,1075,5453,3385,2460,7790,1855,8377,5591,5047,9774,2888,179],(function(){return t=92792,e(e.s=t);var t}));var t=e.O();_N_E=t}]);