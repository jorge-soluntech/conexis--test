(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7713],{28740:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/buyers",function(){return n(55846)}])},70092:function(e,t,n){"use strict";n.d(t,{i:function(){return _}});var r=n(47568),a=n(51438),o=n(70655),s=n(51573),c=n(97237),i=n(17632),u=function(e,t){return"".concat(e).concat(t)},l="https://d5ja6jkvsot2v.cloudfront.net",_=function e(t){(0,a.Z)(this,e);var n=this;this.getAllBuyers=function(){var e=(0,r.Z)((function(e){var t,r,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,c.Z)((0,s.zn)(u(l,"/buyers?page=1&".concat(e?"size=".concat(e):"size=500"))))];case 1:return[2,o.sent().data];case 2:throw t=o.sent(),404===(null===(r=t.response)||void 0===r?void 0:r.status)||400===(null===(a=t.response)||void 0===a?void 0:a.status)||i.$.serverIsDown(n.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var _=this;this.validateNameBuyer=function(){var e=(0,r.Z)((function(e,t){var n,r,a,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=t?"/buyers/validateName/".concat(e,"?buyerId=").concat(t):"/buyers/validateName/".concat(e),[4,(0,c.Z)((0,s.zn)(u(l,n)))];case 1:return[2,o.sent().data];case 2:throw r=o.sent(),404===(null===(a=r.response)||void 0===a?void 0:a.status)||400===(null===(p=r.response)||void 0===p?void 0:p.status)||i.$.serverIsDown(_.router),r;case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();var p=this;this.createBuyer=function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,c.Z)((0,s.DH)([u(l,"/buyers")],e))];case 1:return[2,a.sent().data];case 2:throw t=a.sent(),404===(null===(n=t.response)||void 0===n?void 0:n.status)||400===(null===(r=t.response)||void 0===r?void 0:r.status)||i.$.serverIsDown(p.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();var d=this;this.editBuyer=function(){var e=(0,r.Z)((function(e,t){var n,r,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,c.Z)((0,s.FQ)([u(l,"/buyers/".concat(e))],t))];case 1:return[2,o.sent().data];case 2:throw n=o.sent(),404===(null===(r=n.response)||void 0===r?void 0:r.status)||400===(null===(a=n.response)||void 0===a?void 0:a.status)||i.$.serverIsDown(d.router),n;case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();var v=this;this.getBuyerById=function(){var e=(0,r.Z)((function(e){var t,n,r;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,c.Z)((0,s.zn)(u(l,"/buyers/".concat(e))))];case 1:return[2,a.sent().data];case 2:throw t=a.sent(),404===(null===(n=t.response)||void 0===n?void 0:n.status)||400===(null===(r=t.response)||void 0===r?void 0:r.status)||i.$.serverIsDown(v.router),t;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),this.router=t}},55846:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return v},default:function(){return h}});var r=n(85893),a=n(5152),o=n.n(a),s=n(11163),c=n.n(s),i=n(67294),u=n(70092),l=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],r=(0,i.useState)([]),a=r[0],o=r[1],s=(0,i.useState)(!1),l=s[0],_=s[1],p=(0,i.useState)("There's been an error. Please try again later."),d=p[0],v=p[1],h=new u.i(c());return(0,i.useEffect)((function(){n(!0),h.getAllBuyers().then((function(e){var t=e.data.buyers.map((function(e){var t,n;return{key:e.id,clientCompanyName:e.client_company_name?e.client_company_name:"-",clientContactName:e.primary_contact_name?e.primary_contact_name:"-",clientContactEmail:e.primary_contact_email?e.primary_contact_email:"-",clientContactPhone:e.primary_contact_phone?e.primary_contact_phone:"-",accountOwner:e.account_owner?e.account_owner:"-",contractExpirationDate:e.contract_expiry_date?"".concat(e.contract_expiry_date.slice(5,7),"/").concat(e.contract_expiry_date.slice(8,10),"/").concat(e.contract_expiry_date.slice(0,4)):"-",details:{aditionalInfo:{legalNameInvoicing:e.legal_name_for_invoicing?e.legal_name_for_invoicing:"-",clientMailingAddress:e.street_address_line1?e.street_address_line1:"-",clientMailingAddress2:e.street_address_line2?e.street_address_line2:"-",workWeekDefinition:e.work_week_definition?e.work_week_definition:"-",currency:e.currency?e.currency:"-"},taxes:{vatFederalTax:e.vat_amount?"".concat(e.vat_amount,"%"):"-",provincialTax:e.sales_tax_amount?"".concat(e.sales_tax_amount,"%"):"-",otherTax:e.other_tax_amount?"".concat(e.other_tax_amount,"%"):"-"},approvals:{jobsRequireApproval:void 0!==e.bypass_job_approval?e.bypass_job_approval?"Yes":"No":"-",submissionsRequireApproval:void 0!==e.bypass_submission_approval?e.bypass_submission_approval?"Yes":"No":"-",accesToApplicantTrackingModule:void 0!==e.access_to_applicant_tracker?e.access_to_applicant_tracker?"Yes":"No":"-",contractRequiresApproval:void 0!==e.require_contract_approval?e.require_contract_approval?"Yes":"No":"-",accountsPayableContactName:e.accounts_payable_contact_name?e.accounts_payable_contact_name:"-",accountsPayableContactEmail:e.accounts_payable_contact_email?e.accounts_payable_contact_email:"-"},documents:{clientAgreement:null===(t=e.attachments)||void 0===t?void 0:t.map((function(e){return"Client agreement"===e.type?{name:e.name,id:e.file}:[]})),others:null===(n=e.attachments)||void 0===n?void 0:n.map((function(e){return"Client agreement"!==e.type?{name:e.name,id:e.file}:[]}))}}}}));o(t),n(!1)})).catch((function(){v("There's been an error. Please try again later."),_(!0)}))}),[]),{loading:t,dataTable:a,showError:l,setShowError:_,messageError:d}},_=n(56209),p=n(75047),d=o()((function(){return Promise.all([n.e(4617),n.e(7649)]).then(n.bind(n,99693))}),{loadableGenerated:{webpack:function(){return[99693]}},loading:function(){return(0,r.jsx)(_.Z,{})},ssr:!0}),v=!0,h=function(){return(0,r.jsx)(p.gl,{useGetData:l,children:function(e){var t=e.loading,n=e.dataTable,a=e.showError,o=e.setShowError,s=e.messageError;return(0,r.jsx)(d,{loading:t,dataTable:n,showError:a,setShowError:o,messageError:s})}})}}},function(e){e.O(0,[7805,1945,1577,1075,5453,3385,2460,7790,1855,8377,5591,5047,9774,2888,179],(function(){return t=28740,e(e.s=t);var t}));var t=e.O();_N_E=t}]);